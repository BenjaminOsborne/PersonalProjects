@page "/"
@using BibleApp.Core

<PageTitle>Home</PageTitle>

@if (_isLoading)
{
    <MudProgressCircular Color="Color.Default" Indeterminate="true" />
}
else
{
    <MudExpansionPanels>
        @foreach (var book in _books)
        {
            <MudExpansionPanel Text=@book.BookName Style="max-width:40rem">
                <MudStack>
                    @foreach (var chapterGroup in book.Chapters.GroupIntoBatches(batchSizeLimit: 10))
                    {
                        <MudChipSet T=ChapterStructure>
                            @foreach (var chapter in chapterGroup)
                            {
                                <MudChip T=ChapterStructure Value=@chapter Text="@(chapter.ChapterNumber.ToString())" Style="width: 3rem; min-width: 3rem"/>
                            }
                        </MudChipSet>
                    }
                </MudStack>
            </MudExpansionPanel>
        }
    </MudExpansionPanels>
}
